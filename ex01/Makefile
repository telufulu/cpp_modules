#******************************************************************************#
#								COMPILER									   #
#******************************************************************************#
CXX			=	g++
CXXFLAGS	=	-Wall -Werror -Wextra -std=c++98 -g -O0 -fsanitize=address

#******************************************************************************#
#								SOURCES										   #
#******************************************************************************#
NAME		=	Polymorphism
FILES		=	main.cpp Animal.cpp Dog.cpp Cat.cpp Brain.cpp
OBJS		=	$(FILES:%.cpp=$O%.o)

#******************************************************************************#
#								DIRECTORIES									   #
#******************************************************************************#
O			=	objs/
I			=	.

#******************************************************************************#
#								RULES										   #
#******************************************************************************#
all:		$(NAME)

$(NAME):	$(OBJS)
	@$(CXX) $(CXXFLAGS) $(OBJS) -o $(NAME)

$O%.o:		%.cpp
	@[ -d $O ] || mkdir -p $O
	@$(CXX) $(CXXFLAGS) -I $(I) -c $< -o $@

clean:
	@rm -rf $O

fclean:	clean
	@rm -rf $(NAME)

re:	fclean all

.PHONY: all clean fclean re
